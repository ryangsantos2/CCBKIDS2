<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Quiz bíblico</title>
</head>
<body>

    <h2>TESTE SEU CONHECIMENTO SOBRE A BÍBLIA</h2>
    <main>
        <div class="content">
            <span class="spnQtd"></span>
            <span class="question"></span>
            <div class="answers"></div>
        </div>
        <div class="finish">
            <span></span>
            <button>Reiniciar</button>
        </div>
    </main>

</body>
</html>
<script>
    const questions = [
        {
            question: "Qual o primeiro livro da bíblia?",
            answers: [
                { option: "Josué", correct: false },
                { option: "Gênesis", correct: true },
                { option: "João", correct: false },
            ],
        },
        {
            question: "Após o diluvio, que animal foi enviado por noé para certificar que a água sobre a terra secou?",
            answers: [
                { option: "Corvo", correct: true },
                { option: "Gaivota", correct: false },
                { option: "Periquito", correct: false },
            ],
        },
        {
            question: "Na famosa historia, quem derrotou o gigante golias com uma pedra e estilingue?",
            answers: [
                { option: "Matheus", correct: false },
                { option: "Davi", correct: true },
                { option: "João", correct: false },
            ],
        },
        {
            question: "Jesus Cristo, tinha com ele 13 discipulos, que eram seus seguidores. Qual era o nome daquele conhecido como o traidor?",
            answers: [
                { option: "Pedro", correct: false },
                { option: "Thiago", correct: false },
                { option: "Judas", correct: true },
            ],
        },
        {
            question: "Qual o primeiro livro do novo testamento?",
            answers: [
                { option: "Matheus", correct: true },
                { option: "Rute", correct: false },
                { option: "Atos", correct: false },
            ],
        },
        {
            question: "Qual salmo pertence a passagem: ''O senhor é meu pastor, e nada me faltara''?",
            answers: [
                { option: "Salmos 37", correct: false },
                { option: "Salmos 121", correct: false },
                { option: "Salmos 23", correct: true },
            ],
        },
        {
            question: "Dentre os seguintes nomes, quem foi o homem conhecido por ter matado seu irmão??",
            answers: [
                { option: "Miquéias", correct: false },
                { option: "Caim", correct: true },
                { option: "Sadraque", correct: false },
            ],
        },
        {
            question: "Quem foi o responsavel por abrir o mar vermelho??",
            answers: [
                { option: "Moisés", correct: true },
                { option: "Jesus", correct: false },
                { option: "Daniel", correct: false },
            ],
        },
        {
            question: "No livro de Efésios, quantas pragas foram enviadas ao Egito?",
            answers: [
                { option: "10", correct: true },
                { option: "5", correct: false },
                { option: "7", correct: false },
            ],
        },
        {
            question: "Qual foi o homem conhecido por ser lançado na cova dos leões?",
            answers: [
                { option: "Josué", correct: false },
                { option: "Matheus", correct: false },
                { option: "Daniel", correct: true },
            ],
        }
    ];

    const question = document.querySelector(".question");
    const answers = document.querySelector(".answers");
    const spnQtd = document.querySelector(".spnQtd");
    const textFinish = document.querySelector(".finish span");
    const content = document.querySelector(".content");
    const contentFinish = document.querySelector(".finish");
    const btnRestart = document.querySelector(".finish button");

    let currentIndex = 0;
    let questionsCorrect = 0;

    btnRestart.onclick = () => {
        content.style.display = "flex";
        contentFinish.style.display = "none";

        currentIndex = 0;
        questionsCorrect = 0;
        loadQuestion();
    };

    function nextQuestion(e) {
        if (e.target.getAttribute("data-correct") === "true") {
            questionsCorrect++;
        }

        if (currentIndex < questions.length - 1) {
            currentIndex++;
            loadQuestion();
        } else {
            finish();
        }
    }

    function finish() {
        textFinish.innerHTML = `Você acertou ${questionsCorrect} de ${questions.length}`;
        content.style.display = "none";
        contentFinish.style.display = "flex";
    }

    function loadQuestion() {
        spnQtd.innerHTML = `${currentIndex + 1}/${questions.length}`;

        const item = questions[currentIndex];

        answers.innerHTML = "";
        question.innerHTML = item.question;

        item.answers.forEach((answer) => {
            const div = document.createElement("div");

            div.innerHTML = `
            <button class="answer" data-correct="${answer.correct}">
                ${answer.option}
            </button>
            `;

            answers.appendChild(div);
        });

        document.querySelectorAll(".answer").forEach((item) => {
            item.addEventListener("click", nextQuestion);
        });
    }

    loadQuestion();
</script>
